var asm_grammar={RegExpID:"RE::",Style:{comment:"comment",decorator:"meta",Instruction:"keyword",Register:"builtin",identifier:"",number:"number",Label:"string"},Lex:{"comment:comment":[COMMENT,null],Label:"RE::/[.][_A-Za-z0-9]+/",identifier:"RE::/[_A-Za-z][_A-Za-z0-9]*/",decorator:["RE::/[$]0x[0-9a-fA-F]+/","RE::/[$][1-9]\\d*/","RE::/[$]0(?![\\dx])/"],number:["RE::/0x[0-9a-fA-F]+/","RE::/[1-9]\\d*/","RE::/0(?![\\dx])/"],Instruction:{autocomplete:!0,tokens:Object.keys(INSTRUCTIONS)},Register:{autocomplete:!0,
tokens:Object.keys(LIST_REG_NAMES)}},Syntax:{asm:"comment | decorator | number | Label | Instruction | Register | identifier"},Parser:[["asm"]]},asm_mode=CodeMirrorGrammar.getMode(asm_grammar);CodeMirror.defineMode("asm",asm_mode);asm_mode.supportAutoCompletion=!0;CodeMirror.commands.my_autocompletion=function(a){CodeMirror.showHint(a,asm_mode.autocompleter,{prefixMatch:!0,caseInsensitiveMatch:!0})};asm_mode.autocompleter.options={prefixMatch:!0,caseInsensitiveMatch:!0};
var editor=CodeMirror.fromTextArea($("#editor_box")[0],{lineNumbers:!0,indentUnit:4,indentWithTabs:!1,lineWrapping:!0,styleActiveLine:!0,theme:"blackboard",extraKeys:{"Ctrl-Space":"my_autocompletion","Ctrl-K":"toggleComment"},gutters:["CodeMirror-linenumbers","breakpoints"]});
editor.on("gutterClick",function(a,b){var c=a.lineInfo(b);c.gutterMarkers?a.setGutterMarker(b,"breakpoints",null):""!=strip_label_definition(strip_whitespace_and_comment(editor.getValue().split("\n")[b]))&&a.setGutterMarker(b,"breakpoints",c.gutterMarkers?null:makeMarker())});function makeMarker(){return $("<div></div>").css("color","red").html("\u25cf")[0]}function pcAtBP(a,b){return _.has(a,b)?null!=editor.lineInfo(parseInt(a[b])-1).gutterMarkers:!1};
