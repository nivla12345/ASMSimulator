<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Assembly Simulator">
    <meta name="author" content="Alvin Mao">
    <!-- TODO Update this icon to something more assembly oriented.
    <link rel="icon" href="http://getbootstrap.com/favicon.ico">
      -->

    <title>Assembly Emulator Home</title>

    <!-- Bootstrap -->
    <link href="bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="codemirror-5.9/theme/blackboard.css" rel="stylesheet">

    <link rel="stylesheet" href="codemirror-5.9/lib/codemirror.css">
    <script src="jquery-1.11.3.js"></script>
    <script src="codemirror-5.9/lib/codemirror.js"></script>
    <script src="codemirror-5.9/mode/javascript/javascript.js"></script>
    <script src="codemirror-5.9/addon/selection/active-line.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="indexCustomizations.css">
</head>

<body onload="init()">
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <!-- TODO Fill icon picture with something.
                <a class="navbar-brand"><img alt="Brand" src="..."></a>
                  -->
                <a class="navbar-brand" href="#">Assembly Simulator</a>
            </div>

            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home<span class="sr-only">(current)</span></a></li>
                <li><a href="tutorial.html">Tutorial<span class="sr-only">(current)</span></a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h1 class="panel-title"><b>Program Editor</b></h1>
                    </div>
                    <div class="panel-body" id="program_text">
                        <!-- TODO Change to save file in local disk -->
                        <!-- TODO Stop (stop last and implement)-->
                        <div class="btn-group">
                            <button class="btn btn-default" id="run_button"><img src="green_run.png" height="20"
                                                                                 width="20"> Run program
                            </button>
                            <button class="btn btn-default" id="step_button"><img src="single_step.png" height="20"
                                                                                  width="20"> Step
                            </button>
                        </div>
                        <textarea id="editor_box">
; Testing SET
SET $0x000E, R0
SET $2222, R1
SET $3333, R2
SET $0xFFF0, R3
SET R0, R1
SET R1, R2
SET R2, R3
SET 10, R0
SET 10, R1
SET 10, R2
SET 10, R3
; Testing MOV
MOV $0xBEEF, 500
MOV R3, 501
MOV 10, 502
; Testing ADD
SET $0, R2
SET $0, R3
SET $0x000E, R0
SET $0xFFF0, R1
SET $2, R2
ADD R0, R1
ADD R2, R1
SUB R0, R2
MUL R0, R1
MUL R0, R2
DIV R2, R0
SET $0xFFFF, R0
SET $0x5555, R1
SET $0, R2
SET $0, R3
AND R1, R0
LSH R1
RSH R1
SET $0xFFFF, R2
OR R2, R3
BRN .ADDR0
SET $0, R0
SET $0, R1
SET $0, R2
SET $0, R3
.ADDR0 PSH R3
PSH R3
PSH R3
PSH R3
PSH R3
POP R0
POP R0
POP R0
                        </textarea>
                    </div>
                </div>
            </div>

            <div class="col-md-6" >
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h1 class="panel-title"><b>Register Table</b></h1>
                    </div>
                    <div class="panel-body">
                        <select id="base_value" onchange="change_base()">
                            <option value="decimal_input">Decimal</option>
                            <option value="hex_input">Hexadecimal</option>
                        </select>
                        <table class="table table-bordered table-striped table-condensed fixed">
                            <tr>
                                <td><b>Registers</b></td>
                                <td id="R0">R0</td>
                                <td id="R1">R1</td>
                                <td id="R2">R2</td>
                                <td id="R3">R3</td>
                            </tr>
                            <tr>
                                <td><b>Values</b></td>
                                <td id="R0content">0000</td>
                                <td id="R1content">0000</td>
                                <td id="R2content">0000</td>
                                <td id="R3content">0000</td>
                            </tr>

                            <tr>
                                <td><b>Registers</b></td>
                                <td id="PC">PC</td>
                                <td id="SP">SP</td>
                                <td id="CC">ZCNO</td>
                            </tr>
                            <tr>
                                <td><b>Values</b></td>
                                <td id="PCcontent">0000</td>
                                <td id="SPcontent">0511</td>
                                <td id="CCcontent">0000</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h1 class="panel-title"><b>Main Memory</b></h1>
                    </div>
                    <div class="panel-body">
                        <div style="height:390px;border-bottom:1px solid #ccc;overflow:auto">
                            <table class="table table-hover table-condensed fixed" id="main_memory">
                                <tr>
                                    <td rowspan="1"><b>Address</b></td>
                                    <td rowspan="1"><b>Value</b></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

                <button id="init_memory_button">Zero memory</button>
                <button id="assemble_button">Program memory</button>
                <button id="clear_console_button">Clear console</button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div id="console" style="height:100px;overflow:auto"></div>
                    </div>
                    <div class="panel-footer"><b>Console</b></div>
                </div>
            </div>
        </div>
        <hr>
        <footer>
            <p>Â© 2015 Alvin Mao</p>
        </footer>
    </div> <!-- /container -->

    <script src="cookieHandler.js"></script>
    <script src="ISA.js"></script>
    <script src="asmMode.js"></script>
    <script src="codeMirrorConfiguration.js"></script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="jquery-1.11.3.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
    <script src="underscore-min.js"></script>
</body>

</html>